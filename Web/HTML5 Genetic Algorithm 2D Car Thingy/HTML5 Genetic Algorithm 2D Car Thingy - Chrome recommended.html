<!DOCTYPE html>
<!-- saved from url=(0034)http://rednuht.org/genetic_cars_2/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended</title>
  <link rel="stylesheet" href="./HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended_files/vis.min.css">
  <link rel="stylesheet" href="./HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended_files/styles.css">
</head>
<body>

<div class="clearfix">
  <div class="float-left">

    <canvas id="mainbox" width="800" height="400"></canvas>

    <div class="clearfix">
      <div class="float-left">

        <div id="graphholder">
          <canvas id="graphcanvas" width="400" height="250"></canvas>
          <div class="scale" id="s100">250</div>
          <div class="scale" id="s75">187</div>
          <div class="scale" id="s50">125</div>
          <div class="scale" id="s25">62</div>
          <div class="scale" id="s0">0</div>
        </div>

      </div>
      <div class="float-left">

        <div id="topscoreholder">
          <input id="toggle-ghost" type="button" value="View top replay"><br>
          <div id="topscores"><b>Top Scores:</b><br>#1: 139.68 d:135.32 h:-0.06/5.56m (Gen 10)<br>#2: 139.59 d:134.97 h:-0.06/5.63m (Gen 11)<br>#3: 139.08 d:134.43 h:-0.06/5.37m (Gen 9)<br>#4: 130.7 d:125.37 h:-0.05/6.4m (Gen 7)<br>#5: 127.5 d:121.36 h:0/5.78m (Gen 6)<br>#6: 121.42 d:115.31 h:-0.06/5.55m (Gen 8)<br>#7: 113.89 d:107.26 h:-0.18/5.3m (Gen 5)<br>#8: 112.98 d:106.19 h:-0.18/5.3m (Gen 3)<br>#9: 112.95 d:106.24 h:-0.18/5.3m (Gen 2)<br>#10: 112.8 d:106.14 h:-0.18/5.3m (Gen 4)<br></div>
        </div>

      </div>
    </div>

    <div id="minimapholder">
      <!--<img src="reddot.png" id="minimapmarker" />-->
      <div id="minimapfog" style="width: 308px;"></div>
      <canvas id="minimap" width="800" height="200"></canvas>
      <div id="minimapcamera" style="width: 36px; height: 18px; left: 453px; top: 83px;"></div>
    <div name="minimapmarker" class="minimapmarker" id="bar0" style="padding-top: 0px; border-left: 1px solid rgb(63, 114, 175); left: 419px;">0</div><div name="minimapmarker" class="minimapmarker" id="bar1" style="padding-top: 9px; border-left: 1px solid rgb(63, 114, 175); left: 17px;">1</div><div name="minimapmarker" class="minimapmarker" id="bar2" style="padding-top: 18px; border-left: 1px solid rgb(63, 114, 175); left: 353px;">2</div><div name="minimapmarker" class="minimapmarker" id="bar3" style="padding-top: 27px; border-left: 1px solid rgb(63, 114, 175); left: 19px;">3</div><div name="minimapmarker" class="minimapmarker" id="bar4" style="padding-top: 36px; border-left: 1px solid rgb(63, 114, 175); left: 228px;">4</div><div name="minimapmarker" class="minimapmarker" id="bar5" style="padding-top: 45px; border-left: 1px solid rgb(63, 114, 175); left: 417px;">5</div><div name="minimapmarker" class="minimapmarker" id="bar6" style="padding-top: 54px; border-left: 1px solid rgb(247, 200, 115); left: 381px;">6</div><div name="minimapmarker" class="minimapmarker" id="bar7" style="padding-top: 63px; border-left: 1px solid rgb(63, 114, 175); left: 351px;">7</div><div name="minimapmarker" class="minimapmarker" id="bar8" style="padding-top: 72px; border-left: 1px solid rgb(63, 114, 175); left: 206px;">8</div><div name="minimapmarker" class="minimapmarker" id="bar9" style="padding-top: 81px; border-left: 1px solid rgb(63, 114, 175); left: 416px;">9</div><div name="minimapmarker" class="minimapmarker" id="bar10" style="padding-top: 90px; border-left: 1px solid rgb(63, 114, 175); left: 419px;">10</div><div name="minimapmarker" class="minimapmarker" id="bar11" style="padding-top: 99px; border-left: 1px solid rgb(63, 114, 175); left: 361px;">11</div><div name="minimapmarker" class="minimapmarker" id="bar12" style="padding-top: 108px; border-left: 1px solid rgb(63, 114, 175); left: 31px;">12</div><div name="minimapmarker" class="minimapmarker" id="bar13" style="padding-top: 117px; border-left: 1px solid rgb(63, 114, 175); left: 350px;">13</div><div name="minimapmarker" class="minimapmarker" id="bar14" style="padding-top: 126px; border-left: 1px solid rgb(247, 200, 115); left: 463px;">14</div><div name="minimapmarker" class="minimapmarker" id="bar15" style="padding-top: 135px; border-left: 1px solid rgb(63, 114, 175); left: 25px;">15</div><div name="minimapmarker" class="minimapmarker" id="bar16" style="padding-top: 144px; border-left: 1px solid rgb(63, 114, 175); left: 353px;">16</div><div name="minimapmarker" class="minimapmarker" id="bar17" style="padding-top: 153px; border-left: 1px solid rgb(63, 114, 175); left: 336px;">17</div><div name="minimapmarker" class="minimapmarker" id="bar18" style="padding-top: 162px; border-left: 1px solid rgb(63, 114, 175); left: 80px;">18</div><div name="minimapmarker" class="minimapmarker" id="bar19" style="padding-top: 171px; border-left: 1px solid rgb(63, 114, 175); left: 358px;">19</div></div>

    <div id="debug"></div>

  </div>

  <div class="float-left">

    <div id="data">
      <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
        <input type="hidden" name="cmd" value="_s-xclick">
        <input type="hidden" name="hosted_button_id" value="X8VB9NDYWQDPE">
        <input type="image" src="./HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended_files/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
        <img alt="" border="0" src="./HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended_files/pixel.gif" width="1" height="1">
      </form>
      <br>

      <div class="buttons">
        <input id="save-progress" type="button" value="Save Population">
        <input id="restore-progress" type="button" value="Restore Saved Population">
        <input id="toggle-display" type="button" value="Surprise!">
        <input id="new-population" type="button" value="New Population">
        <input id="fast-forward" type="button" value="Fast Forward">
      </div>

      <div>
        <label>Create new world with seed</label><br>
        <input type="text" placeholder="Enter any string" id="newseed">
        <input id="confirm-reset" type="button" value="Go!">
      </div>

      <table>
        <tbody><tr>
          <td>Generation</td><td><div id="generation">12</div></td>
        </tr>
        <tr>
          <td>Cars alive</td><td><div id="population">2</div></td>
        </tr>
        <tr>
          <td>Distance</td><td><div id="distancemeter">149.34 meters<br></div></td>
        </tr>
        <tr>
          <td>Height</td><td><div id="heightmeter">3.47 meters</div></td>
        </tr>
        <tr>
          <td>Mutation rate:</td>
          <td>
            <select id="mutationrate">
              <option value="0">0%</option>
              <option value="0.01">1%</option>
              <option value="0.02">2%</option>
              <option value="0.03">3%</option>
              <option value="0.04">4%</option>
              <option value="0.05" selected="selected">5%</option>
              <option value="0.1">10%</option>
              <option value="0.2">20%</option>
              <option value="0.3">30%</option>
              <option value="0.4">40%</option>
              <option value="0.5">50%</option>
              <option value="0.75">75%</option>
              <option value="1.0">100%</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>Mutation size:</td>
          <td>
            <select id="mutationsize">
              <option value="0">0%</option>
              <option value="0.01">1%</option>
              <option value="0.02">2%</option>
              <option value="0.03">3%</option>
              <option value="0.04">4%</option>
              <option value="0.05">5%</option>
              <option value="0.1">10%</option>
              <option value="0.2">20%</option>
              <option value="0.3">30%</option>
              <option value="0.4">40%</option>
              <option value="0.5">50%</option>
              <option value="0.75">75%</option>
              <option value="1.0" selected="selected">100%</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>Floor:</td>
          <td>
            <select id="floor">
              <option value="0" selected="selected">fixed</option>
              <option value="1">mutable</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>Gravity:</td>
          <td>
            <select id="gravity">
              <option value="24.8">Jupiter (24.8)</option>
              <option value="11.2">Neptune (11.2)</option>
              <option value="10.4">Saturn (10.4)</option>
              <option value="9.81" selected="selected">Earth (9.81)</option>
              <option value="8.9">Venus (8.9)</option>
              <option value="8.7">Uranus (8.7)</option>
              <option value="3.7">Mars/Mercury (3.7)</option>
              <option value="1.6">Moon (1.6)</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>Elite clones:</td>
          <td>
            <select id="elitesize">
              <option value="0">0</option>
              <option value="1" selected="selected">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
            </select>
          </td>
        </tr>
      </tbody></table>

      <br>

      <input type="button" value="Watch Leader" onclick="cw_setCameraTarget(-1)">
      <div id="health"><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health0" style="background-color: rgb(63, 114, 175); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health1" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health2" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health3" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health4" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health5" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health6" style="background-color: rgb(247, 200, 115); width: 0%;"></div>
  <div name="healthtext" class="healthtext">6</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health7" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health8" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health9" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health10" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health11" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health12" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health13" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health14" style="background-color: rgb(247, 200, 115); width: 98%;"></div>
  <div name="healthtext" class="healthtext">14</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health15" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health16" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health17" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health18" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div><div name="healthbar" class="healthbar" onclick="cw_setCameraTarget(this.car_index)">
  <div name="health" class="health" id="health19" style="background-color: rgb(247, 200, 115); width: 0px;"></div>
  <div name="healthtext" class="healthtext">†</div>
</div></div>
      <div id="cars"></div>
    </div>

  </div>
</div>


<div id="explanation">
  <h3>But what is it?</h3>
  <p>The program uses a simple genetic algorithm to evolve random two-wheeled shapes into cars over generations. Loosely
    based on <a href="http://boxcar2d.com/">BoxCar2D</a>, but
    written from scratch, only using the same physics engine (<a href="http://box2d.org/">box2d</a>).<br>
    seedrandom.js written by <a href="http://davidbau.com/">David Bau</a>. (thanks!)</p>


  <h3>Controls</h3>
  <table>
    <tbody><tr>
      <th>Save Population</th>
      <td>Saves current population locally.</td>
    </tr>
    <tr>
      <th>Restore Saved Population</th>
      <td>Restore a previously saved population.</td>
    </tr>
    <tr>
      <th>Suprise</th>
      <td>Toggles drawing, makes the simulation faster.</td>
    </tr>
    <tr>
      <th>New Population</th>
      <td>Keeps the generated track and restarts the whole car population.</td>
    </tr>
    <tr>
      <th>Create new world with seed</th>
      <td>The same seed always creates the same track, so you can agree on a seed with your friends
        and compete. :)
      </td>
    </tr>
    <tr>
      <th>Mutation rate</th>
      <td>The chance that each gene in each individual will mutate to a random value when a new generation is
        born.
      </td>
    </tr>
    <tr>
      <th>Mutation size</th>
      <td>The range each gene can mutate into. Lower numbers mean the gene will have values closer to the
        original.
      </td>
    </tr>
    <tr>
      <th>Elite clones</th>
      <td>The top n cars that will be copied over to the next generation.</td>
    </tr>
    <tr>
      <th>View top replay</th>
      <td>Pause the current simulation and show the top performing car. Click a second time to resume
        simulation.
      </td>
    </tr>
  </tbody></table>

  <h3>Graph</h3>
  <table>
    <tbody><tr>
      <th>Red</th>
      <td>Top score in each generation</td>
    </tr>
    <tr>
      <th>Green</th>
      <td>Average of the top 10 cars in each generation</td>
    </tr>
    <tr>
      <th>Blue</th>
      <td>Average of the entire generation</td>
    </tr>
  </tbody></table>

  <h3>Genome</h3>
  <p>
    The genome consists of:
  </p>
  <ul>
    <li>Shape (8 genes, 1 per vertex)</li>
    <li>Wheel size (2 genes, 1 per wheel)</li>
    <li>Wheel position (2 genes, 1 per wheel)</li>
    <li>Wheel density (2 genes, 1 per wheel) darker wheels mean denser wheels</li>
    <li>Chassis density (1 gene) darker body means denser chassis</li>
  </ul>

  <h3>Blurb</h3>
  <p>This is not as deterministic as it should be, so your best car may not perform as well as it once did. The terrain
    gets more complex with distance.<br>
    I'm not in the mood to deal with checking if all scripts have loaded before running, so refresh the page if things
    seem whack.</p>

  <h3>GitHub</h3>
  <p>The code is now on a <a href="https://github.com/red42/HTML5_Genetic_Cars">GitHub repository</a>. Feel free to
    contribute!</p>

  <p>Originally written by <a href="http://rednuht.org/">this guy</a>, now with contributions from patient people at GitHub.</p>
</div>





<script src="./HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended_files/seedrandom.js.下载"></script>
<script src="./HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended_files/box2d.js.下载"></script>
<script src="./HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended_files/d3.v3.min.js.下载"></script>
<script src="./HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended_files/vis.min.js.下载"></script>
<script src="./HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended_files/bundle.js.下载"></script>



</body></html>